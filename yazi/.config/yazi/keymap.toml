# Yazi keymap configuration
# Documentation: https://yazi-rs.github.io/docs/configuration/keymap

[mgr]
prepend_keymap = [
  # Tmux integration keybindings
  { on = "T", run = 'shell --block --confirm -- $HOME/.config/yazi/scripts/nvim_tmux.sh "$0"', desc = "Open in nvim (new tmux window)" },

  # Navigation - with proper yazi integration
  { on = "<C-f>", run = 'shell --block -- $HOME/.config/yazi/scripts/fzf_jump.sh', desc = "Find files with fzf" },
  { on = "z", run = 'shell --block -- $HOME/.config/yazi/scripts/zoxide_jump.sh', desc = "Jump with zoxide" },

  # Plugin: smart-enter (replaces default enter)
  { on = ["l"], run = "plugin --sync smart-enter", desc = "Smart enter: directories/archives or open files" },
  { on = ["<Right>"], run = "plugin --sync smart-enter", desc = "Smart enter: directories/archives or open files" },

  # Plugin: git operations
  { on = ["<C-g>"], run = "plugin git", desc = "Git operations" },

  # Plugin: mount/unmount
  { on = ["m", "m"], run = "plugin mount", desc = "Mount drive" },
  { on = ["m", "u"], run = "plugin mount --args='unmount'", desc = "Unmount drive" },

  # Plugin: vcs-files (show only VCS tracked files)
  { on = ["v", "f"], run = "plugin vcs-files", desc = "Show VCS tracked files only" },

  # Plugin: zoom
  { on = ["z", "+"], run = "plugin zoom --args='in'", desc = "Zoom in" },
  { on = ["z", "-"], run = "plugin zoom --args='out'", desc = "Zoom out" },
  { on = ["z", "0"], run = "plugin zoom", desc = "Reset zoom" },

  # Plugin: chmod
  { on = ["="], run = "plugin chmod", desc = "Change permissions" },

  # Archive extraction
  { on = "e", run = 'shell --block --confirm -- $HOME/.config/yazi/scripts/extract.sh "$0"', desc = "Extract archive here" },

  # Plugin: smart-paste (replaces default paste)
  { on = "p", run = "plugin smart-paste", desc = "Smart paste with conflict resolution" },

  # Plugin: jump-to-char (like vim's f/F)
  { on = "f", run = "plugin jump-to-char", desc = "Jump to char" },

  # Plugin: diff (compare files)
  { on = "D", run = "plugin diff", desc = "Diff selected files" },
]

[tasks]
prepend_keymap = []

[select]
prepend_keymap = []

[input]
prepend_keymap = []

[completion]
prepend_keymap = []

[help]
prepend_keymap = []
